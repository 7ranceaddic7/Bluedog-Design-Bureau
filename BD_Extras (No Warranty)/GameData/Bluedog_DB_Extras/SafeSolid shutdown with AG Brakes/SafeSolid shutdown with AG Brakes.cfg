// Adds the action group "Brakes" to all solid fuel engines with the SafeSolid™ system, allows it to shutdown the engine quickly by pressing "B" (default keybinding for "Brakes")

// If it's a SolidFuel engine which can be shut down, but got the SafeSolid™ not mentioned in the description yet, change this and mention it
@PART[bluedog*,Bluedog*]:HAS[~description[*SafeSolid*],@MODULE[ModuleEngines*]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
{
	@description = #$description$ It features BDB's SafeSolid™ system, allowing the engine to be shut down in flight, allowing for more accurate orbital insertions and manuevers.
}

@PART[bluedog*,Bluedog*]:HAS[#description[*SafeSolid*],@MODULE[ModuleEngines*]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
{
	@description = #$description$ Just press the "Brakes" button (default "B") to do so.
	@MODULE[ModuleEngines*]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]
	{
		%ACTIONS
		{
			%ShutdownAction
			{
				%actionGroup = Brakes
			}
		}
	}
}

// remark: could be generally patched into all parts, not just BDB parts


// already existing with index 0, so add another ModuleBdbDefAGHelper with index 1
// ModuleEngines
// @PART[bluedog*,Bluedog*]:HAS[#description[*SafeSolid*],@MODULE[ModuleBdbDefAGHelper]:HAS[~actionModuleIndex[1]],@MODULE[ModuleEngines]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
// {
	// MODULE
	// {
		// name = ModuleBdbDefAGHelper
		// actionModuleName = ModuleEngines
		// actionModuleIndex = 1
		// actionName = ShutdownAction
		// actionDefaultActionGroup = Brakes
	// }
// }
// ModuleEnginesFX
// @PART[bluedog*,Bluedog*]:HAS[#description[*SafeSolid*],@MODULE[ModuleBdbDefAGHelper]:HAS[~actionModuleIndex[1]],@MODULE[ModuleEnginesFX]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
// {
	// MODULE
	// {
		// name = ModuleBdbDefAGHelper
		// actionModuleName = ModuleEnginesFX
		// actionModuleIndex = 1
		// actionName = ShutdownAction
		// actionDefaultActionGroup = Brakes
	// }
// }

// not existing yet, so add the ModuleBdbDefAGHelper with index 0
// ModuleEngines
// @PART[bluedog*,Bluedog*]:HAS[#description[*SafeSolid*],!MODULE[ModuleBdbDefAGHelper],@MODULE[ModuleEngines]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
// {
	// MODULE
	// {
		// name = ModuleBdbDefAGHelper
		// actionModuleName = ModuleEngines
		// actionModuleIndex = 0
		// actionName = ShutdownAction
		// actionDefaultActionGroup = Brakes
	// }
// }
// ModuleEnginesFX
// @PART[bluedog*,Bluedog*]:HAS[#description[*SafeSolid*],!MODULE[ModuleBdbDefAGHelper],@MODULE[ModuleEnginesFX]:HAS[#allowShutdown[?rue],@PROPELLANT[SolidFuel]]]:AFTER[zzzBluedog_DB]
// {
	// MODULE
	// {
		// name = ModuleBdbDefAGHelper
		// actionModuleName = ModuleEnginesFX
		// actionModuleIndex = 0
		// actionName = ShutdownAction
		// actionDefaultActionGroup = Brakes
	// }
// }
